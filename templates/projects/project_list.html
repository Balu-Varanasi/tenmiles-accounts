{% extends "base.html" %}

{% block navigation %}

<li><a href="{% url 'home' %}">Home</a></li>

<li class="dropdown">
  <a href="{% url 'company_list' %}" class="dropdown-toggle" data-toggle="dropdown">
    Companies <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="{% url 'company_list' %}">All Companies</a></li>
    <li><a href="{% url 'company_new' %}">Create a New Company</a></li>
  </ul>
</li>

<li class="dropdown">
  <a href="{% url 'client_list' %}" class="dropdown-toggle" data-toggle="dropdown">
    Clients <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="{% url 'client_list' %}">All Clients</a></li>
    <li><a href="{% url 'client_new' %}">Create a New Client</a></li>
  </ul>
</li>

<li class="active dropdown">
  <a href="{% url 'project_list' %}" class="dropdown-toggle" data-toggle="dropdown">
    Projects <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="{% url 'project_list' %}">All Projects</a></li>
    <li><a href="{% url 'project_new' %}">Create a New Project</a></li>
  </ul>
</li>

<li class="dropdown">
  <a href="{% url 'daily_sprint_list' %}" class="dropdown-toggle" data-toggle="dropdown">
    Daily Sprints <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="{% url 'daily_sprint_list' %}">All Daily Sprints</a></li>
    <li><a href="{% url 'daily_sprint_new' %}">Create a New Daily Sprint</a></li>
  </ul>
</li>

<li class="dropdown">
  <a href="{% url 'technology_list' %}" class="dropdown-toggle" data-toggle="dropdown">
    Technologies <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="{% url 'technology_list' %}">All Technologies</a></li>
    <li><a href="{% url 'technology_new' %}">Create a New Technology</a></li>
  </ul>
</li>
{% endblock navigation %}

{% block content %}
<h1>List of Projects</h1>
<div class="table-responsive">
  {% if object_list %}
  <table class="table table-striped">
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Client Name</th>
        <th>Start Date</th>
        <th>Hours Spent</th>
        <th>Cost for the project</th>
        <th colspan="2"></th>
      </tr>
    </thead>
    <tbody>
    	{% for project in object_list %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td><a href="{% url 'project_detail' project.id %}">{{ project.name }}</a></td>
        <td>{{ project.client.name }}</td>
        <td>{{ project.start_date }}</td>
        <td>{{ project.get_total_hours }}</td>
        <td>{{ project.get_total_cost }}</td>
        <td><a href="{% url 'project_edit' project.id %}">Edit</a></td>
        <td><a href="{% url 'project_delete' project.id %}">Delete</a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p style="text-align: center;">No Projects Found</p>
  {% endif %}
</div>
{% endblock content %}
